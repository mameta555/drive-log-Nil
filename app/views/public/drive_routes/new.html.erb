<div class="container mx-auto m-5">
  <div class="row">
    <div class="col">
      <h2>ドライブルート新規投稿</h2>
      <% if @drive_route.errors.any? %>
        <%= @drive_route.errors.count %>件のエラーが発生しました
        <ul>
          <% @drive_route.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
  </div>

  <div>
    <%= flash[:notice] %>
  </div>
  <div class="row">
    <div class="col">
      <!--<h2>行き先の追加</h2>-->

      <%# if @route.errors.any? %>
        <%#= @route.errors.count %><!--件のエラーが発生しました
        <ul>
          <%# @route.errors.full_messages.each do |message| %>
            <li><%#= message %></li>
          <%# end %>
        </ul>
      <%# end %>-->

      <!--<div class="route_table">-->
        <!--行き先の一覧-->
        <%#= render 'public/routes/drive_route_index', drive_route: @drive_route %>
      <!--</div>-->

    </div>
  </div>

  <div class="row">
    <div class="col">
      <!--<div class="drive_route_area">-->
        <!--行き先投稿フォーム-->
        <%#= render 'public/routes/drive_route_form', drive_route: @drive_route, route: @route %>
      <!--</div>-->
      <p><%#= link_to "編集を終わる", drive_route_path(@drive_route), class: "btn btn-primary" %></p>
    </div>

    <!--<div class="col">-->
    <!--  <div id='map'></div>-->
    <!--</div>-->

  </div>



  <div class="row">
    <div class="offset-sm-2 col-sm-8">
      <%= form_with model: @drive_route do |f| %>
        <div class="form-group">
          <h5>思い出の一枚</h5>
          <%= f.file_field :image, accept: "image/*" %>
        </div>
        <div class="form-group">
          <h5>タイトル</h5>
          <%= f.text_field :title, class: "form-control" %>
        </div>
        <div class="form-group">
          <h5>ドライブルートの紹介</h5>
          <%= f.text_area :body, rows: '5', cols: "50", class: "form-control" %>
        </div>
        <div class='form-group'>
          <h5>タグ</h5>
          <%= f.collection_check_boxes(:tag_ids, Tag.all, :id, :tag_name) do |tag| %>
          <div class='form-check'>
            <%= tag.label class: 'form-check-label' do %>
              <%= tag.check_box class: 'form-check-input' %>
              <%= tag.text %>
            <% end %>
          </div>
          <% end %>
        </div>
        <%= f.fields_for :routes do |ff| %>
          <%= render 'public/drive_routes/route_fields', f: ff %>
        <% end %>
        
        <div class='links'>
          <%= link_to_add_association "行き先を追加", f, :routes %>
        </div>
        <%= f.submit '保存' %>
      <% end %>
    </div>
  </div>
</div>